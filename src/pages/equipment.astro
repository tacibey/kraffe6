---
// Gerekli bileşenleri ve sabitleri import et
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro"; // Buton için
import { Image } from "astro:assets";
import { SITE } from "@data/constants";
import type { ImageMetadata } from "astro"; // ImageMetadata tipini import et

// Ekipman görselleri için placeholder importları (GERÇEK DOSYA YOLLARIYLA GÜNCELLENMELİ)
import destonerImage from "@images/destoner.avif";     // Varsayılan dosya adı, kontrol et/yükle
import afterburnerImage from "@images/afterburner.avif"; // Varsayılan dosya adı, kontrol et/yükle
import loaderImage from "@images/loader.avif";         // Varsayılan dosya adı, kontrol et/yükle

// Ekipman Veri Tipi Tanımı
interface EquipmentSpec {
  feature: string;
  value: string;
}

interface Equipment {
  id: string;
  title: string;
  description: string; // Kısa açıklama
  mainImage: ImageMetadata;
  mainImageAlt: string;
  longDescription: string; // Daha uzun açıklama
  specifications: EquipmentSpec[];
}

// Ekipman Verileri (Dummy İçeriklerle)
const equipmentData: Equipment[] = [
  {
    id: "destoner",
    title: "Kraffe Destoner KDS Series", // Genel seri adı veya spesifik model
    description: "Efficiently remove foreign objects like stones and metal from roasted beans.",
    mainImage: destonerImage,
    mainImageAlt: "Kraffe Destoner Machine",
    longDescription:
      "Ensure the purity of your final product and protect your grinding equipment. The Kraffe Destoner uses precisely controlled airflow to effectively separate denser materials from your perfectly roasted coffee beans. Essential for quality control in any professional roastery.",
    specifications: [
      { feature: "Voltage Options", value: "110V / 220V / 380V" },
      { feature: "Frequency", value: "50 / 60 Hertz" },
      { feature: "Amperage", value: "2.7 A" }, // Amper olarak düzeltildi
      { feature: "Operation Mode", value: "Manual / Automatic" },
      { feature: "Airflow Speed", value: "Adjustable" }, // Speed -> Airflow Speed
      { feature: "Capacity", value: "Variable (e.g., up to 30kg/batch)" }, // Örnek kapasite eklendi
    ],
  },
  {
    id: "afterburner",
    title: "Kraffe Afterburner KAB Series",
    description: "Eco-friendly solution for smoke and odor elimination during roasting.",
    mainImage: afterburnerImage,
    mainImageAlt: "Kraffe Afterburner Unit",
    longDescription:
      "Comply with environmental regulations and maintain a clean workspace. The Kraffe Afterburner features a high-efficiency thermal oxidizer that effectively eliminates smoke and odors generated during the coffee roasting process, ensuring minimal environmental impact.",
    specifications: [
      { feature: "Fuel Type", value: "LPG/Propane - Natural Gas" },
      { feature: "Heating System", value: "High-Efficiency Premix Burner" }, // Premix olarak düzeltildi
      { feature: "Voltage", value: "220 V AC (Configurable)" }, // AC eklendi
      { feature: "Power Consumption", value: "Approx. 2.5 VA (Control)" }, // Açıklama eklendi
      { feature: "Frequency", value: "50-60 Hertz" },
      { feature: "Operation Mode", value: "Automatic Temperature Control" }, // Mode güncellendi
      { feature: "Roaster Compatibility", value: "Up to 240kg models" }, // Kapasite eklendi
    ],
  },
  {
    id: "loader",
    title: "Kraffe Pneumatic Loader KPL Series",
    description: "Automated and gentle green coffee bean loading system.",
    mainImage: loaderImage,
    mainImageAlt: "Kraffe Pneumatic Loader System",
    longDescription:
      "Increase operational efficiency and reduce manual labor with the Kraffe Pneumatic Loader. This system uses gentle vacuum transport to move green beans from storage to the roaster hopper, minimizing bean damage and ensuring a consistent feed.",
    specifications: [
      { feature: "Power Consumption", value: "1.1 kW (Pump Motor)" }, // Açıklama eklendi
      { feature: "Transport Method", value: "Pneumatic (Vacuum) Suction" }, // Detay eklendi
      { feature: "Material", value: "Food-grade Stainless Steel" }, // Food-grade eklendi
      { feature: "Control System", value: "Integrated Panel / Roaster Sync" }, // Seçenek eklendi
      { feature: "Capacity", value: "Suitable for up to 240kg roasters" }, // Kapasite eklendi
      { feature: "Filtering", value: "Integrated Dust Filter" }, // Filtre eklendi
    ],
  },
];

// Tablo için stil sınıfları
const tableClass = "min-w-full divide-y divide-neutral-300 dark:divide-neutral-700 border border-neutral-300 dark:border-neutral-700";
const thClass = "px-4 py-3 text-left text-xs font-medium uppercase text-neutral-500 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-800/50";
const tdClass = "whitespace-nowrap px-4 py-3 text-sm text-neutral-700 dark:text-neutral-300";
---

<MainLayout title={pageTitle}>

  {/* Sayfa Giriş Bölümü */}
  <MainSection
    title="Kraffe Roasting Equipment"
    subTitle="Explore our essential roasting equipment: Destoner, Afterburner, and Loader. KRAFFE designs and offers the best fitting products, backed by 7/24 online customer support."
    btnExists={false} {/* İstersen buraya genel bir iletişim butonu ekleyebiliriz */}
  />

  {/* Ekipmanları Listeleme */}
  {equipmentData.map((equipment, index) => (
    <section class={`py-12 md:py-16 ${index < equipmentData.length - 1 ? 'border-b border-neutral-300 dark:border-neutral-700' : ''}`}>
      <div class="mx-auto max-w-[85rem] px-4 sm:px-6 lg:px-8 2xl:max-w-full">
        {/* Ekipman Başlığı ve Görseli */}
        <div class="grid grid-cols-1 items-center gap-8 md:grid-cols-2 lg:gap-16">
           {/* Metin Alanı */}
           <div class={index % 2 === 0 ? 'md:order-1' : 'md:order-2'}>
             <h2 class="text-3xl font-bold tracking-tight text-neutral-800 dark:text-neutral-200 lg:text-4xl">
               {equipment.title}
             </h2>
             <p class="mt-3 text-lg text-neutral-600 dark:text-neutral-400">
               {equipment.description}
             </p>
             <p class="mt-4 text-pretty text-neutral-600 dark:text-neutral-400">
               {equipment.longDescription}
             </p>
             <div class="mt-6">
               <PrimaryCTA title="Contact Us for Details" url="/contact" />
             </div>
           </div>
           {/* Görsel Alanı */}
           <div class={`flex items-center justify-center ${index % 2 === 0 ? 'md:order-2' : 'md:order-1'}`}>
             <Image
               src={equipment.mainImage}
               alt={equipment.mainImageAlt}
               class="w-full max-w-md rounded-lg shadow-lg"
               loading="lazy"
               format="avif"
             />
           </div>
        </div>

        {/* Teknik Spesifikasyonlar Tablosu */}
        <div class="mt-12 md:mt-16">
           <h3 class="mb-6 text-center text-2xl font-semibold text-neutral-800 dark:text-neutral-200 md:mb-8 md:text-3xl">
             Technical Specifications
           </h3>
           <div class="mx-auto max-w-2xl overflow-hidden rounded-lg border border-neutral-200 dark:border-neutral-700">
             <table class={tableClass}>
               <thead class="bg-neutral-50 dark:bg-neutral-800/50">
                 <tr>
                   <th scope="col" class={thClass}>Specification</th>
                   <th scope="col" class={thClass}>Value</th>
                 </tr>
               </thead>
               <tbody class="divide-y divide-neutral-200 dark:divide-neutral-700 bg-neutral-50 dark:bg-neutral-800">
                 {equipment.specifications.map(spec => (
                   <tr>
                     <td class={`${tdClass} font-medium`}>{spec.feature}</td>
                     <td class={tdClass}>{spec.value}</td>
                   </tr>
                 ))}
               </tbody>
             </table>
           </div>
        </div>
      </div>
    </section>
  ))}
</MainLayout>
